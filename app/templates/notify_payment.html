{% extends 'base.html' %}

{% block content %}
<div class="container py-5">
  <div class="row justify-content-center">
    <div class="col-md-8 col-lg-6">

      <!-- Card -->
      <div class="card shadow-lg border-0 rounded-4">

        <!-- Header -->
        <div class="card-header text-center text-white py-3"
             style="background: linear-gradient(90deg, #004599, #63a6f7);">
          <h4 class="mb-0 fw-bold">Notify Payment Made</h4>
        </div>

        <div class="card-body p-4">

          <!-- Info Text -->
          <div class="mb-4 p-3 bg-info bg-opacity-10 rounded-3">
            <h5 class="fw-semibold text-info"><i class="fas fa-info-circle me-2"></i>Bank Payment Notification</h5>
            <p class="mb-0">
              Notify the Accounts Office that you have made a bank payment for your outstanding school fees. 
              This will regenerate your request in the accounts office dashboard for verification.
            </p>
          </div>

          <!-- Payment Info -->
          <div class="d-flex justify-content-between align-items-center p-3 mb-4 border rounded-3 bg-light">
            <div>
              <div class="text-muted fw-medium">Reference Code</div>
              <div class="fw-bold">{{ transcript_request.reference_code }}</div>
            </div>
            <div>
              <div class="text-muted fw-medium">Amount Paid</div>
              <div class="fw-bold text-success">GHS {{ amount_owed }}</div>
            </div>
          </div>

          <!-- Important Notice -->
          <div class="p-3 mb-4 border-start border-4 border-warning bg-warning bg-opacity-10 rounded-3">
            <h6 class="fw-semibold"><i class="fas fa-exclamation-triangle me-2"></i>Important:</h6>
            <ul class="mb-0 small">
              <li>Only click "Notify Payment" if you have actually made the bank payment.</li>
              <li>The Accounts Office will verify your payment and regenerate your request.</li>
              <li>False notifications may delay your transcript processing.</li>
            </ul>
          </div>

          <!-- Action Buttons -->
          <form method="post" class="text-center">
            {% csrf_token %}
            <button type="submit" class="button mb-2">
              <span>Notify Payment Made</span>
              <svg xmlns="http://www.w3.org/2000/svg" class="icon" fill="none" viewBox="0 0 24 24"
                   stroke="currentColor" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M5 12h14M12 5l7 7-7 7" />
              </svg>
            </button>
            <br>
            <a href="{% url 'student_dashboard' %}" class="btn btn-outline-secondary mt-2">
              <i class="fas fa-arrow-left me-2"></i>Cancel
            </a>
          </form>

        </div>
      </div>
    </div>
  </div>
</div>

<style>
/* Pay Now / Notify Payment Button Style */
.button {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  padding: 0.6rem 1.5rem;
  font-size: 15px;
  font-weight: 600;
  border-radius: 9999px;
  background-color: #006bb3;
  color: #fff;
  border: 3px solid rgba(255,255,255,0.3);
  cursor: pointer;
  overflow: hidden;
  transition: all 0.3s ease-in-out;
}
.button:hover {
  background-color: #385ac2;
  transform: scale(1.05);
  border-color: rgba(255,255,255,0.5);
}
.button .icon {
  width: 20px;
  height: 20px;
  transition: transform 0.3s ease;
}
.button:hover .icon {
  transform: translateX(4px);
}
.button::before {
  content: '';
  position: absolute;
  width: 100px;
  height: 100%;
  background: linear-gradient(120deg, rgba(255,255,255,0) 30%, rgba(255,255,255,0.8), rgba(255,255,255,0) 70%);
  top: 0;
  left: -100px;
  opacity: 0.6;
}
.button:hover::before {
  animation: shine 1.5s ease-out infinite;
}
@keyframes shine {
  0% { left: -100px; }
  60% { left: 100%; }
  100% { left: 100%; }
}

/* Responsive text adjustments */
@media (max-width: 576px) {
  .d-flex.justify-content-between {
    flex-direction: column;
    gap: 10px;
  }
}
</style>
{% endblock %}
